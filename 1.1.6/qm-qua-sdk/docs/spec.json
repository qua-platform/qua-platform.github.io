{
  "paths": {
    "/": {
      "get": {
        "description": "Get config",
        "responses": {
          "200": {
            "descriptions": "The config structure",
            "schema": {
              "$ref": "#/definitions/QmConfig"
            }
          }
        }
      }
    }
  },
  "info": {
    "title": "Qm Config",
    "version": "0.0.0"
  },
  "swagger": "2.0",
  "definitions": {
    "IntegrationWeight": {
      "type": "object",
      "properties": {
        "sine": {
          "description": "The integration weights for the sine. Given as a list of tuples, each tuple in the format of: ([double] weight, [int] duration). weight range: [-2048, 2048] in steps of 2**-15. duration is in ns and must be a multiple of 4."
        },
        "cosine": {
          "description": "The integration weights for the cosine. Given as a list of tuples, each tuple in the format of: ([double] weight, [int] duration). weight range: [-2048, 2048] in steps of 2**-15. duration is in ns and must be a multiple of 4."
        }
      },
      "title": "Integration weights",
      "description": "The specification of measurements' integration weights."
    },
    "Pulse": {
      "type": "object",
      "properties": {
        "integration_weights": {
          "type": "object",
          "description": "The name of the integration weight to be used in the program.",
          "additionalProperties": {
            "type": "string",
            "description": "The name of the integration weights as it appears under the \"integration_weigths\" entry in the configuration dict."
          }
        },
        "length": {
          "type": "integer",
          "description": "The length of pulse [ns]. Possible values: 16 to 2^31-1 in steps of 4"
        },
        "operation": {
          "type": "string",
          "description": "The type of operation. Possible values: 'control', 'measurement'"
        },
        "waveforms": {
          "type": "object",
          "description": "The specification of the analog waveform to be played. If the associated element has a single input, then the key is 'single'. If the associated element has 'mixInputs', then the keys are 'I' and 'Q'.",
          "additionalProperties": {
            "type": "string",
            "description": "The name of analog waveform to be played."
          }
        },
        "digital_marker": {
          "type": "string",
          "description": "The name of the digital waveform to be played with this pulse."
        }
      },
      "title": "pulse",
      "description": "The specification and properties of a single pulse and to the measurement associated with it."
    },
    "MixInput": {
      "type": "object",
      "properties": {
        "I": {
          "description": "Controller port to use. Tuple of: ([str] controller name, [int] controller port)"
        },
        "Q": {
          "description": "Controller port to use. Tuple of: ([str] controller name, [int] controller port)"
        },
        "lo_frequency": {
          "type": "number",
          "description": "The frequency of the local oscillator which drives the mixer."
        },
        "mixer": {
          "type": "string",
          "description": "The mixer used to drive the input of the element, taken from the names in mixers entry in the main configuration."
        }
      },
      "title": "Mixer input",
      "description": "The specification of the input of an element which is driven by an IQ mixer"
    },
    "SingleInputCollection": {
      "type": "object",
      "properties": {
        "inputs": {
          "type": "object",
          "description": "A collection of multiple single inputs to the port",
          "additionalProperties": {
            "description": "Controller port to use. Tuple of: ([str] controller name, [int] controller port)"
          }
        }
      },
      "title": "Single input collection",
      "description": "Defines a set of single inputs which can be switched during play statements"
    },
    "Sticky": {
      "type": "object",
      "properties": {
        "analog": {
          "type": "boolean",
          "description": "the analog flag must be a True of False"
        },
        "duration": {
          "type": "integer",
          "description": "The ramp to zero duration, in ns"
        },
        "digital": {
          "type": "boolean",
          "description": "the digital flag must be a True of False"
        }
      },
      "title": "Sticky",
      "description": "When defined, makes the element sticky"
    },
    "MultipleInputs": {
      "type": "object",
      "properties": {
        "inputs": {
          "type": "object",
          "description": "A collection of multiple single inputs to the port",
          "additionalProperties": {
            "description": "Controller port to use. Tuple of: ([str] controller name, [int] controller port)"
          }
        }
      },
      "title": "Multiple inputs",
      "description": "Defines a set of single inputs which are all played at once"
    },
    "SingleInput": {
      "type": "object",
      "properties": {
        "port": {
          "description": "Controller port to use. Tuple of: ([str] controller name, [int] controller port)"
        }
      },
      "title": "Single input",
      "description": "The specification of the input of an element which has a single input port"
    },
    "DigitalInput": {
      "type": "object",
      "properties": {
        "port": {
          "description": "Controller port to use. Tuple of: ([str] controller name, [int] controller port)"
        },
        "delay": {
          "type": "integer",
          "description": "The delay to apply to the digital pulses. In ns. An intrinsic negative delay of 136 ns exists by default"
        },
        "buffer": {
          "type": "integer",
          "description": "Digital pulses played to this element will be convolved with a digital pulse of value 1 with this length [ns]"
        }
      },
      "title": "Digital input",
      "description": "The specification of the digital input of an element"
    },
    "HoldOffset": {
      "type": "object",
      "properties": {
        "duration": {
          "type": "integer",
          "description": "The ramp to zero duration, in ns"
        }
      },
      "title": "Hold offset",
      "description": "When defined, makes the element sticky"
    },
    "Element": {
      "type": "object",
      "properties": {
        "outputPulseParameters": {
          "type": "object",
          "description": "Pulse parameters for Time-Tagging"
        },
        "RF_inputs": {
          "type": "object",
          "additionalProperties": {
            "description": "Controller port to use. Tuple of: ([str] controller name, [int] controller port)"
          }
        },
        "time_of_flight": {
          "type": "integer",
          "description": "The delay time, in ns, from the start of pulse until it reaches \n            the controller. Needs to be calibrated by looking at the raw ADC data. \n            Needs to be a multiple of 4 and the minimal value is 24. "
        },
        "RF_outputs": {
          "type": "object",
          "additionalProperties": {
            "description": "Controller port to use. Tuple of: ([str] controller name, [int] controller port)"
          }
        },
        "operations": {
          "type": "object",
          "description": "A collection of all pulse names to be used in play and measure commands",
          "additionalProperties": {
            "type": "string",
            "description": "The name of the pulse as it appears under the \"pulses\" entry in the configuration dict"
          }
        },
        "thread": {
          "type": "string",
          "description": "QE thread"
        },
        "mixInputs": {
          "$ref": "#/definitions/MixInput"
        },
        "singleInputCollection": {
          "$ref": "#/definitions/SingleInputCollection"
        },
        "sticky": {
          "$ref": "#/definitions/Sticky"
        },
        "measurement_qe": {
          "type": "string",
          "description": "not implemented"
        },
        "intermediate_frequency": {
          "type": "number",
          "x-nullable": true,
          "description": "The frequency at which the controller modulates the output to this element [Hz]."
        },
        "smearing": {
          "type": "integer",
          "description": "Padding time, in ns, to add to both the start and end of the raw \n            ADC data window during a measure command."
        },
        "multipleInputs": {
          "$ref": "#/definitions/MultipleInputs"
        },
        "digitalOutputs": {
          "type": "object",
          "additionalProperties": {
            "description": "Controller port to use. Tuple of: ([str] controller name, [int] controller port)"
          }
        },
        "singleInput": {
          "$ref": "#/definitions/SingleInput"
        },
        "outputs": {
          "type": "object",
          "description": "The output ports of the element.",
          "additionalProperties": {
            "description": "Controller port to use. Tuple of: ([str] controller name, [int] controller port)"
          }
        },
        "digitalInputs": {
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/DigitalInput"
          }
        },
        "hold_offset": {
          "$ref": "#/definitions/HoldOffset"
        },
        "oscillator": {
          "type": "string",
          "x-nullable": true,
          "description": "The oscillator which is used by the controller to modulates the output to this element [Hz]. Can be used to share oscillators between elements"
        }
      },
      "title": "Element",
      "description": "The specifications, parameters and connections of a single element."
    },
    "Mixer": {
      "type": "object",
      "properties": {
        "intermediate_frequency": {
          "type": "number",
          "description": "The intermediate frequency associated with the correction matrix"
        },
        "correction": {
          "description": "A 2x2 matrix entered as a 4 elements list specifying the correction matrix. Each element is a double in the range of (-2,2)"
        },
        "lo_frequency": {
          "type": "number",
          "description": "The LO frequency associated with the correction matrix"
        }
      },
      "title": "Mixer",
      "description": "The specification of the correction matrix for an IQ mixer. This is a list of correction matrices for each LO and IF frequencies."
    },
    "DigitalInputPortDef": {
      "type": "object",
      "properties": {
        "shareable": {
          "type": "boolean",
          "description": "Whether the port is shareable with other QM instances"
        },
        "polarity": {
          "type": "string",
          "enum": [
            "RISING",
            "FALLING"
          ],
          "description": "The Detection edge - Whether to trigger in the rising or falling edge of the pulse"
        },
        "deadtime": {
          "type": "integer",
          "description": "The minimal time between pulses, in ns."
        },
        "threshold": {
          "type": "number",
          "description": "The minimum voltage to trigger when a pulse arrives"
        }
      },
      "title": "Digital input port",
      "description": "The specifications and properties of a digital input port of the controller."
    },
    "AnalogInputPortDef": {
      "type": "object",
      "properties": {
        "offset": {
          "type": "number",
          "description": "DC offset to the input, range: (-0.5, 0.5). Will be applied only when program runs."
        },
        "shareable": {
          "type": "boolean",
          "description": "Whether the port is shareable with other QM instances"
        },
        "gain_db": {
          "type": "integer",
          "description": "Gain of the pre-ADC amplifier, in dB. Accepts integers in the range: -12 to 20"
        }
      },
      "title": "Analog input port",
      "description": "The specifications and properties of an analog input port of the controller."
    },
    "DigitalOutputPortDef": {
      "type": "object",
      "properties": {
        "shareable": {
          "type": "boolean",
          "description": "Whether the port is shareable with other QM instances"
        },
        "inverted": {
          "type": "boolean",
          "description": "Whether the port is inverted. If True, the output will be inverted."
        }
      },
      "title": "Digital port",
      "description": "The specifications and properties of a digital output port of the controller."
    },
    "AnalogOutputFilterDef": {
      "type": "object",
      "properties": {
        "feedforward": {
          "type": "array",
          "description": "Feedforward taps for the analog output filter, range: [-1,1]. List of double",
          "items": {
            "type": "number"
          }
        },
        "feedback": {
          "type": "array",
          "description": "Feedback taps for the analog output filter, range: (-1,1). List of double",
          "items": {
            "type": "number"
          }
        }
      }
    },
    "AnalogOutputPortDef": {
      "type": "object",
      "properties": {
        "shareable": {
          "type": "boolean",
          "description": "Whether the port is shareable with other QM instances"
        },
        "delay": {
          "type": "integer",
          "description": "Output's delay, in units of ns."
        },
        "crosstalk": {
          "type": "object",
          "description": "",
          "additionalProperties": {
            "type": "number"
          }
        },
        "filter": {
          "$ref": "#/definitions/AnalogOutputFilterDef"
        },
        "offset": {
          "type": "number",
          "description": "DC offset to the output, range: (-0.5, 0.5). Will be applied while quantum machine is open."
        }
      },
      "title": "Analog output port",
      "description": "The specifications and properties of an analog output port of the controller."
    },
    "Controller": {
      "type": "object",
      "properties": {
        "digital_inputs": {
          "type": "object",
          "description": "The digital inputs ports and their properties.",
          "additionalProperties": {
            "$ref": "#/definitions/DigitalInputPortDef"
          }
        },
        "analog_inputs": {
          "type": "object",
          "description": "The analog input ports and their properties.",
          "additionalProperties": {
            "$ref": "#/definitions/AnalogInputPortDef"
          }
        },
        "digital_outputs": {
          "type": "object",
          "description": "The digital output ports and their properties.",
          "additionalProperties": {
            "$ref": "#/definitions/DigitalOutputPortDef"
          }
        },
        "type": {
          "default": "opx1"
        },
        "analog_outputs": {
          "type": "object",
          "description": "The analog output ports and their properties.",
          "additionalProperties": {
            "$ref": "#/definitions/AnalogOutputPortDef"
          }
        }
      },
      "title": "controller",
      "description": "The specification of a single controller and its properties."
    },
    "Oscillator": {
      "type": "object",
      "properties": {
        "intermediate_frequency": {
          "type": "number",
          "x-nullable": true,
          "description": "The frequency of this oscillator [Hz]."
        },
        "lo_frequency": {
          "type": "number",
          "description": "The frequency of the local oscillator which drives the mixer [Hz]."
        },
        "mixer": {
          "type": "string",
          "description": "The mixer used to drive the input of the oscillator, taken from the names in mixers entry in the main configuration"
        }
      }
    },
    "DigitalWaveForm": {
      "type": "object",
      "properties": {
        "samples": {
          "type": "array",
          "description": "The digital waveform. Given as a list of tuples, each tuple in the format of: ([int] state, [int] duration). state is either 0 or 1 indicating whether the digital output is off or on. duration is in ns. If the duration is 0, it will be played until the reminder of the analog pulse",
          "items": {}
        }
      },
      "title": "Digital waveform",
      "description": "The samples of a digital waveform"
    },
    "OctaveRFInput": {
      "type": "object",
      "properties": {
        "LO_frequency": {
          "type": "number"
        },
        "RF_source": {
          "type": "string"
        },
        "LO_source": {
          "type": "string"
        },
        "IF_mode_I": {
          "type": "string"
        },
        "IF_mode_Q": {
          "type": "string"
        }
      }
    },
    "OctaveRFOutput": {
      "type": "object",
      "properties": {
        "Q_connection": {},
        "gain": {
          "type": "number",
          "description": "The gain of the RF output in dB"
        },
        "input_attenuators": {
          "type": "string",
          "description": "The attenuators of the I and Q inputs"
        },
        "LO_frequency": {
          "type": "number",
          "description": "The frequency of the LO in Hz"
        },
        "LO_source": {
          "type": "string",
          "description": "The source of the LO}, e.g. 'internal' or 'external'"
        },
        "I_connection": {},
        "output_mode": {
          "type": "string",
          "description": "The output mode of the RF output"
        }
      }
    },
    "SingleIFOutput": {
      "type": "object",
      "properties": {
        "port": {},
        "name": {
          "type": "string"
        }
      }
    },
    "IFOutputs": {
      "type": "object",
      "properties": {
        "IF_out1": {
          "$ref": "#/definitions/SingleIFOutput"
        },
        "IF_out2": {
          "$ref": "#/definitions/SingleIFOutput"
        }
      }
    },
    "Octave": {
      "type": "object",
      "properties": {
        "RF_inputs": {
          "type": "object",
          "description": "The RF inputs and their properties.",
          "additionalProperties": {
            "$ref": "#/definitions/OctaveRFInput"
          }
        },
        "RF_outputs": {
          "type": "object",
          "description": "The RF outputs and their properties.",
          "additionalProperties": {
            "$ref": "#/definitions/OctaveRFOutput"
          }
        },
        "connectivity": {
          "type": "string",
          "description": "Sets the default connectivity for all RF outputs and inputs in the octave."
        },
        "IF_outputs": {
          "$ref": "#/definitions/IFOutputs"
        },
        "loopbacks": {
          "type": "array",
          "description": "List of loopbacks that connected to this octave, Each loopback is in the form of ((octave_name, octave_port), target_port)",
          "items": {}
        }
      }
    },
    "QmConfig": {
      "type": "object",
      "properties": {
        "version": {
          "type": "integer",
          "description": "Config version."
        },
        "controllers": {
          "type": "object",
          "description": "The controllers. ",
          "additionalProperties": {
            "$ref": "#/definitions/Controller"
          }
        },
        "elements": {
          "type": "object",
          "description": "The elements. Each element represents and\n         describes a controlled entity which is connected to the ports of the \n         controller.",
          "additionalProperties": {
            "$ref": "#/definitions/Element"
          }
        },
        "pulses": {
          "type": "object",
          "description": "The pulses to be played to the elements. ",
          "additionalProperties": {
            "$ref": "#/definitions/Pulse"
          }
        },
        "waveforms": {
          "type": "object",
          "description": "The analog waveforms sent to an element when a pulse is \n        played.",
          "additionalProperties": {
            "type": "object",
            "oneOf": [
              {
                "$ref": "#/definitions/ArbitraryWaveform"
              },
              {
                "$ref": "#/definitions/ConstantWaveform"
              }
            ]
          }
        },
        "digital_waveforms": {
          "type": "object",
          "description": "The digital waveforms sent to an element when a pulse is \n        played.",
          "additionalProperties": {
            "$ref": "#/definitions/DigitalWaveForm"
          }
        },
        "integration_weights": {
          "type": "object",
          "description": "The integration weight vectors used in the integration \n        and demodulation of data returning from a element.",
          "additionalProperties": {
            "$ref": "#/definitions/IntegrationWeight"
          }
        },
        "oscillators": {
          "type": "object",
          "description": "The oscillators used to drive the elements. \n        Can be used to share oscillators between elements",
          "additionalProperties": {
            "$ref": "#/definitions/Oscillator"
          }
        },
        "mixers": {
          "type": "object",
          "description": "The IQ mixer calibration properties, used to post-shape the pulse\n         to compensate for imperfections in the mixers used for up-converting the \n         analog waveforms.",
          "additionalProperties": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/Mixer"
            }
          }
        },
        "octaves": {
          "type": "object",
          "description": "The octaves that are in the system, with their interconnected loopbacks.",
          "additionalProperties": {
            "$ref": "#/definitions/Octave"
          }
        }
      },
      "title": "QUA Config",
      "description": "QUA program config root object"
    },
    "ArbitraryWaveform": {
      "type": "object",
      "properties": {
        "is_overridable": {
          "type": "boolean",
          "description": "Allows overriding the waveform after compilation. Cannot use with the non-default sampling_rate"
        },
        "samples": {
          "type": "array",
          "description": "list of values of an arbitrary waveforms, range: (-0.5, 0.5)",
          "items": {
            "type": "number"
          }
        },
        "type": {
          "type": "string",
          "description": "\"arbitrary\""
        },
        "sampling_rate": {
          "type": "number",
          "description": "Sampling rate to use in units of S/s (samples per second). Default is 1e9. Cannot be set when is_overridable=True"
        },
        "max_allowed_error": {
          "type": "number",
          "description": "\"Maximum allowed error for automatic compression\""
        }
      },
      "title": "arbitrary waveform",
      "description": "The modulating envelope of an arbitrary waveform"
    },
    "ConstantWaveform": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "description": "\"constant\""
        },
        "sample": {
          "type": "number",
          "description": "Waveform amplitude, range: (-0.5, 0.5)"
        }
      },
      "title": "Constant waveform",
      "description": "A waveform with a constant amplitude"
    }
  }
}